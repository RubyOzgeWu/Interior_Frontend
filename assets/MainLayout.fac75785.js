import{b as te,e as ue,h as ce,Q as C,c as U}from"./QBtn.434b1d49.js";import{l as L,c as h,h as _,r as y,y as ne,o as H,A as V,X as oe,E as A,g as P,V as D,i as ae,Y as T,Z as W,w as k,W as le,_ as de,n as R,a as fe,$ as ie,p as O,q as ve,f as u,u as v,x as w,a0 as K,O as Y,N as J,a1 as X,J as he,a2 as M,a3 as re,a4 as me,a5 as ge,a6 as pe}from"./index.78cf9897.js";import{s as be,g as _e,a as ye,b as we,c as N,Q as xe,d as Z,e as ze,f as Se}from"./QItem.a975a033.js";import{Q as ke}from"./QList.408e1735.js";import{u as Ce,Q as Qe}from"./use-quasar.0e5d05e1.js";import{u as Te}from"./user.49be3861.js";import"./use-dark.247310d6.js";var Le=L({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:f}){const n=h(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>_("div",{class:n.value,role:"toolbar"},te(f.default))}});function $e(){const e=y(!ne.value);return e.value===!1&&H(()=>{e.value=!0}),{isHydrated:e}}const se=typeof ResizeObserver!="undefined",G=se===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"};var F=L({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:f}){let n=null,t,o={width:-1,height:-1};function r(l){l===!0||e.debounce===0||e.debounce==="0"?c():n===null&&(n=setTimeout(c,e.debounce))}function c(){if(n!==null&&(clearTimeout(n),n=null),t){const{offsetWidth:l,offsetHeight:i}=t;(l!==o.width||i!==o.height)&&(o={width:l,height:i},f("resize",o))}}const{proxy:m}=P();if(m.trigger=r,se===!0){let l;const i=g=>{t=m.$el.parentNode,t?(l=new ResizeObserver(r),l.observe(t),c()):g!==!0&&A(()=>{i(!0)})};return H(()=>{i()}),V(()=>{n!==null&&clearTimeout(n),l!==void 0&&(l.disconnect!==void 0?l.disconnect():t&&l.unobserve(t))}),oe}else{let g=function(){n!==null&&(clearTimeout(n),n=null),i!==void 0&&(i.removeEventListener!==void 0&&i.removeEventListener("resize",r,D.passive),i=void 0)},b=function(){g(),t&&t.contentDocument&&(i=t.contentDocument.defaultView,i.addEventListener("resize",r,D.passive),c())};const{isHydrated:l}=$e();let i;return H(()=>{A(()=>{t=m.$el,t&&b()})}),V(g),()=>{if(l.value===!0)return _("object",{class:"q--avoid-card-border",style:G.style,tabindex:-1,type:"text/html",data:G.url,"aria-hidden":"true",onLoad:b})}}}}),qe=L({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:f,emit:n}){const{proxy:{$q:t}}=P(),o=ae(W,T);if(o===T)return console.error("QHeader needs to be child of QLayout"),T;const r=y(parseInt(e.heightHint,10)),c=y(!0),m=h(()=>e.reveal===!0||o.view.value.indexOf("H")!==-1||t.platform.is.ios&&o.isContainer.value===!0),l=h(()=>{if(e.modelValue!==!0)return 0;if(m.value===!0)return c.value===!0?r.value:0;const a=r.value-o.scroll.value.position;return a>0?a:0}),i=h(()=>e.modelValue!==!0||m.value===!0&&c.value!==!0),g=h(()=>e.modelValue===!0&&i.value===!0&&e.reveal===!0),b=h(()=>"q-header q-layout__section--marginal "+(m.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(i.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),z=h(()=>{const a=o.rows.value.top,x={};return a[0]==="l"&&o.left.space===!0&&(x[t.lang.rtl===!0?"right":"left"]=`${o.left.size}px`),a[2]==="r"&&o.right.space===!0&&(x[t.lang.rtl===!0?"left":"right"]=`${o.right.size}px`),x});function d(a,x){o.update("header",a,x)}function S(a,x){a.value!==x&&(a.value=x)}function B({height:a}){S(r,a),d("size",a)}function E(a){g.value===!0&&S(c,!0),n("focusin",a)}k(()=>e.modelValue,a=>{d("space",a),S(c,!0),o.animate()}),k(l,a=>{d("offset",a)}),k(()=>e.reveal,a=>{a===!1&&S(c,e.modelValue)}),k(c,a=>{o.animate(),n("reveal",a)}),k(o.scroll,a=>{e.reveal===!0&&S(c,a.direction==="up"||a.position<=e.revealOffset||a.position-a.inflectionPoint<100)});const $={};return o.instances.header=$,e.modelValue===!0&&d("size",r.value),d("space",e.modelValue),d("offset",l.value),V(()=>{o.instances.header===$&&(o.instances.header=void 0,d("size",0),d("offset",0),d("space",!1))}),()=>{const a=ue(f.default,[]);return e.elevated===!0&&a.push(_("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),a.push(_(F,{debounce:0,onResize:B})),_("header",{class:b.value,style:z.value,onFocusin:E},a)}}}),He=L({name:"QPageContainer",setup(e,{slots:f}){const{proxy:{$q:n}}=P(),t=ae(W,T);if(t===T)return console.error("QPageContainer needs to be child of QLayout"),T;le(de,!0);const o=h(()=>{const r={};return t.header.space===!0&&(r.paddingTop=`${t.header.size}px`),t.right.space===!0&&(r[`padding${n.lang.rtl===!0?"Left":"Right"}`]=`${t.right.size}px`),t.footer.space===!0&&(r.paddingBottom=`${t.footer.size}px`),t.left.space===!0&&(r[`padding${n.lang.rtl===!0?"Right":"Left"}`]=`${t.left.size}px`),r});return()=>_("div",{class:"q-page-container",style:o.value},te(f.default))}});const{passive:ee}=D,Pe=["both","horizontal","vertical"];var Re=L({name:"QScrollObserver",props:{axis:{type:String,validator:e=>Pe.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:be},emits:["scroll"],setup(e,{emit:f}){const n={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let t=null,o,r;k(()=>e.scrollTarget,()=>{l(),m()});function c(){t!==null&&t();const b=Math.max(0,ye(o)),z=we(o),d={top:b-n.position.top,left:z-n.position.left};if(e.axis==="vertical"&&d.top===0||e.axis==="horizontal"&&d.left===0)return;const S=Math.abs(d.top)>=Math.abs(d.left)?d.top<0?"up":"down":d.left<0?"left":"right";n.position={top:b,left:z},n.directionChanged=n.direction!==S,n.delta=d,n.directionChanged===!0&&(n.direction=S,n.inflectionPoint=n.position),f("scroll",{...n})}function m(){o=_e(r,e.scrollTarget),o.addEventListener("scroll",i,ee),i(!0)}function l(){o!==void 0&&(o.removeEventListener("scroll",i,ee),o=void 0)}function i(b){if(b===!0||e.debounce===0||e.debounce==="0")c();else if(t===null){const[z,d]=e.debounce?[setTimeout(c,e.debounce),clearTimeout]:[requestAnimationFrame(c),cancelAnimationFrame];t=()=>{d(z),t=null}}}const{proxy:g}=P();return k(()=>g.$q.lang.rtl,c),H(()=>{r=g.$el.parentNode,m()}),V(()=>{t!==null&&t(),l()}),Object.assign(g,{trigger:i,getPosition:()=>n}),oe}}),Ve=L({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:f,emit:n}){const{proxy:{$q:t}}=P(),o=y(null),r=y(t.screen.height),c=y(e.container===!0?0:t.screen.width),m=y({position:0,direction:"down",inflectionPoint:0}),l=y(0),i=y(ne.value===!0?0:N()),g=h(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),b=h(()=>e.container===!1?{minHeight:t.screen.height+"px"}:null),z=h(()=>i.value!==0?{[t.lang.rtl===!0?"left":"right"]:`${i.value}px`}:null),d=h(()=>i.value!==0?{[t.lang.rtl===!0?"right":"left"]:0,[t.lang.rtl===!0?"left":"right"]:`-${i.value}px`,width:`calc(100% + ${i.value}px)`}:null);function S(s){if(e.container===!0||document.qScrollPrevented!==!0){const p={position:s.position.top,direction:s.direction,directionChanged:s.directionChanged,inflectionPoint:s.inflectionPoint.top,delta:s.delta.top};m.value=p,e.onScroll!==void 0&&n("scroll",p)}}function B(s){const{height:p,width:Q}=s;let q=!1;r.value!==p&&(q=!0,r.value=p,e.onScrollHeight!==void 0&&n("scrollHeight",p),$()),c.value!==Q&&(q=!0,c.value=Q),q===!0&&e.onResize!==void 0&&n("resize",s)}function E({height:s}){l.value!==s&&(l.value=s,$())}function $(){if(e.container===!0){const s=r.value>l.value?N():0;i.value!==s&&(i.value=s)}}let a=null;const x={instances:{},view:h(()=>e.view),isContainer:h(()=>e.container),rootRef:o,height:r,containerHeight:l,scrollbarWidth:i,totalWidth:h(()=>c.value+i.value),rows:h(()=>{const s=e.view.toLowerCase().split(" ");return{top:s[0].split(""),middle:s[1].split(""),bottom:s[2].split("")}}),header:R({size:0,offset:0,space:!1}),right:R({size:300,offset:0,space:!1}),footer:R({size:0,offset:0,space:!1}),left:R({size:300,offset:0,space:!1}),scroll:m,animate(){a!==null?clearTimeout(a):document.body.classList.add("q-body--layout-animate"),a=setTimeout(()=>{a=null,document.body.classList.remove("q-body--layout-animate")},155)},update(s,p,Q){x[s][p]=Q}};if(le(W,x),N()>0){let Q=function(){s=null,p.classList.remove("hide-scrollbar")},q=function(){if(s===null){if(p.scrollHeight>t.screen.height)return;p.classList.add("hide-scrollbar")}else clearTimeout(s);s=setTimeout(Q,300)},j=function(I){s!==null&&I==="remove"&&(clearTimeout(s),Q()),window[`${I}EventListener`]("resize",q)},s=null;const p=document.body;k(()=>e.container!==!0?"add":"remove",j),e.container!==!0&&j("add"),fe(()=>{j("remove")})}return()=>{const s=ce(f.default,[_(Re,{onScroll:S}),_(F,{onResize:B})]),p=_("div",{class:g.value,style:b.value,ref:e.container===!0?void 0:o,tabindex:-1},s);return e.container===!0?_("div",{class:"q-layout-container overflow-hidden",ref:o},[_(F,{onResize:E}),_("div",{class:"absolute-full",style:z.value},[_("div",{class:"scroll",style:d.value},[p])])]):p}}});const Oe={id:"sidebar-container"},Be={class:"account-info"},Ee={class:"info-text"},je={style:{"font-weight":"500","font-size":"1rem"}},Ne={style:{"font-size":"0.75rem"}},De=w("p",null,"\u767B\u51FA",-1),Me=w("p",null,"\u500B\u4EBA\u8A2D\u5B9A",-1),Fe={class:"menu"},We=w("span",null,"\u4E3B\u8981\u63A7\u5236\u53F0",-1),Ie=w("span",null,"\u5718\u968A\u65E5\u66C6",-1),Ue=w("span",null,"\u8A2A\u554F\u7D00\u9304",-1),Ae=w("span",null,"\u6750\u6599\u5EAB",-1),Ke=w("span",null,"\u516C\u53F8\u7DB2\u7AD9",-1),Ye=Object.assign({name:"SideBar"},{__name:"SideBar",setup(e){const f=Te(),n=y(!1);H(()=>{f.getUser()});const t=h(()=>f.userRole===0?"\u8A2D\u8A08\u5E2B":f.userRole===1?"\u4E3B\u7BA1":"\u8A2A\u5BA2"),o=()=>{n.value=!n.value},{logout:r}=f;return(c,m)=>{const l=ie("router-link");return O(),ve("div",Oe,[u(xe,{class:"user"},{default:v(()=>[w("div",Be,[u(C,{name:"perm_identity"}),w("div",Ee,[w("p",je,K(Y(f).account),1),w("p",Ne,K(t.value),1)])]),w("div",{class:"expand-icon",onClick:o},[J(u(C,{name:"keyboard_arrow_down"},null,512),[[X,!n.value]]),J(u(C,{name:"keyboard_arrow_up"},null,512),[[X,n.value]])]),u(he,{name:"toggle"},{default:v(()=>[n.value?(O(),M(ze,{key:0,class:"toggleDown"},{default:v(()=>[u(Z,{onClick:Y(r)},{default:v(()=>[De]),_:1},8,["onClick"]),u(Z,null,{default:v(()=>[Me]),_:1})]),_:1})):re("",!0)]),_:1})]),_:1}),w("div",Fe,[u(l,{to:"/MainControl",class:"link-container"},{default:v(()=>[u(C,{name:"dashboard"}),We]),_:1}),u(l,{to:"",class:"link-container"},{default:v(()=>[u(C,{name:"calendar_month"}),Ie]),_:1}),u(l,{to:"",class:"link-container"},{default:v(()=>[u(C,{name:"call"}),Ue]),_:1}),u(l,{to:"",class:"link-container"},{default:v(()=>[u(C,{name:"collections_bookmark"}),Ae]),_:1}),u(l,{to:"/",class:"link-container"},{default:v(()=>[u(C,{name:"web_asset"}),Ke]),_:1})])])}}}),ot=Object.assign({name:"MainLayout"},{__name:"MainLayout",setup(e){const f=Ce(),n=y(f.screen.lt.lg),t=y(!f.screen.lt.lg);function o(){t.value=!t.value}const r=me(),c=ge(),m=y(r.path.startsWith("/ProjectControl/project")),l=()=>{c.go(-1)};return k(()=>r.path,()=>{m.value=r.path.startsWith("/ProjectControl/project")}),(i,g)=>{const b=ie("router-view");return O(),M(Ve,{view:"lHh Lpr lFf",id:"main-layout"},{default:v(()=>[u(qe,null,{default:v(()=>[u(Le,null,{default:v(()=>[n.value?(O(),M(U,{key:0,flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:o})):re("",!0),u(U,{flat:"",dense:"",round:"",icon:"arrow_back","aria-label":"Menu",onClick:l,class:"main-btn-back"})]),_:1})]),_:1}),u(Qe,{modelValue:t.value,"onUpdate:modelValue":g[0]||(g[0]=z=>t.value=z),bordered:"",width:250},{default:v(()=>[u(ke,null,{default:v(()=>[u(Se,{header:"",style:{background:"linear-gradient(to right, #2466e2, #5453a9)","-webkit-background-clip":"text","background-clip":"text",color:"transparent"}},{default:v(()=>[pe(" HomeYoung Inc. ")]),_:1}),u(Ye)]),_:1})]),_:1},8,["modelValue"]),u(He,null,{default:v(()=>[u(b)]),_:1})]),_:1})}}});export{ot as default};
